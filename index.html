<!DOCTYPE html>
<head>
  <script src="../lib/d3/dist/d3.js"></script>
  <link rel="stylesheet" href="css/Dashboard.css">
  <link rel="stylesheet" href="css/toggles.css">
</head>
<html>


<body onload="loadPage()">
  <main>
    <hgroup align=center>
      <h2 >Human Resources in R&I and IT indicators in Europe</h2>
    </hgroup>

    <section>
      <section>
      <div class="MAP" style="overflow-y: hidden; width: 800px; height: 600px; ">
        <div style="width: 800px; height: 600px">
          <iframe scrolling="no" id="map" style='overflow-y:hidden; width:100%; height:600px' src="Dashboard/map.html" frameborder="0" width="100%" height="600px" type="text/html"> </iframe>
        </div>
      </div>
    </section>

    <div class="container" style=" overflow-y: hidden; width: 800px; height: 800px;">
    <div class="View 1" style="overflow-y: hidden; ">
      <!--<div style="width: 800px; height: 600px">
        <iframe scrolling="no" id="ridgeline" style='overflow-y:hidden; width:100%; height:600px' src="Dashboard/ridgeline.html" frameborder="0" width="100%" height="600px" type="text/html"> </iframe>
      </div>-->
      <div style="width: 800px; height: 400px">
        <iframe scrolling="no" id="ridgeline" style='overflow-y:hidden; width:100%; height:400px;' src="Dashboard/ridgeline.html" frameborder="0" width="100%" height="400px" type="text/html"> </iframe>
      </div>
    </div>

    <div class="View 1" style="overflow-y: hidden;  ">
    <!--<div style="width: 800px; height: 600px">
      <iframe scrolling="no" id="ridgeline" style='overflow-y:hidden; width:100%; height:600px' src="Dashboard/ridgeline.html" frameborder="0" width="100%" height="600px" type="text/html"> </iframe>
    </div>-->
      <div style="width: 800px; height: 400px">
        <iframe scrolling="no" id="scatterPlot" style='overflow-y:hidden; width:100%; height:400px;' src="Dashboard/scatterPlot.html" frameborder="0" width="100%" height="400px" type="text/html"> </iframe>
      </div>
    </div>
    </div>

      <div class="View 1" style="overflow-y: hidden; width: 270px; height: 800px; ">

        <div style="display: inline-block; width: 100%; height:7%">
          <div id="" style=" float: left; width: 65%; height:60%;">
            <h1 width="100%" style="transform: translateY(-50%); position: relative;top:50%; font-size: 10px;">Population % working in IT and R&I</h1>
          </div>
         
         <div id="" style="float: right; width: 35%;height:60%;">
           <div id="toggles" style="transform: scale(0.65) translateY(-50%);position: relative;top:50%;">
            <input type="checkbox" name="checkbox1" id="checkbox1" class="ios-toggle" onclick="mapColorsClicked()"/>
            <label style="top: -10px;" for="checkbox1" class="checkbox-label" data-off="" data-on=""></label>
          </div>
          </div>
          
        </div>

         <div style="display: inline-block; width: 100%; height:7%">
          <div id="" style=" float: left; width: 65%; height:60%;">
            <h1 width="100%" style="transform: translateY(-50%); position: relative;top:50%; font-size: 10px;">Show Hubs on Map</h1>
          </div>
         
         <div id="" style="float: right; width: 35%;height:60%;">
           <div id="toggles" style="transform: scale(0.65) translateY(-50%);position: relative;top:50%;">
            <input type="checkbox" name="checkbox1" id="checkbox2" class="ios-toggle" onclick="hubsClicked()"/>
            <label style="top: -10px;" for="checkbox2" class="checkbox-label" data-off="" data-on=""></label>
          </div>
          </div>
          
        </div>
          
        </div>
      </div>

    </section>

    <div class="slidecontainer" style="text-align: center;">
      <input type="range" min="2010" max="2020" value="2015" step="1" class="slider" id="myRange" style="width: 100%; height: auto;" oninput="yearChange(this.value)">
      <label id="year" align ="center">2015</label>
    </div>
    

  </main>
</body>

<footer><small>Copyright 2022 Joao Lopes, Tiago Fonseca and David Huber</small></footer>

<script>
  function yearChange(value){
    document.getElementById("year").innerHTML = value;
    sessionStorage.setItem("year", value);
    reload_map();
    reload_scatterplot();
  }

  function loadPage(){

    sessionStorage.setItem("year", "2015");

    document.getElementById("checkbox1").checked = true;
    sessionStorage.setItem("mapColors", "true");
    document.getElementById("checkbox2").checked = true;
    sessionStorage.setItem("hubs", "true");
  }

  function reload_map(){
    var map = document.getElementById("map");
    map.src = map.src;
  }
  function reload_scatterplot(){
    var scatterPlot = document.getElementById("scatterPlot");
    scatterPlot.src = scatterPlot.src;
  }

  function mapColorsClicked(){
    var check_box = document.getElementById("checkbox1");
    if (check_box.checked){

      sessionStorage.setItem("mapColors", "true");
      reload_map();

    } else {

      sessionStorage.setItem("mapColors", "false");
      reload_map();
    }
  }

  function hubsClicked(){
    var check_box = document.getElementById("checkbox2");
    if (check_box.checked){

      sessionStorage.setItem("hubs", "true");
      reload_map();

    } else {

      sessionStorage.setItem("hubs", "false");
      reload_map();
    }
  }

</script>
</html>
